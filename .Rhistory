fpath = file.choose()
MeanSalaries_uoft = read_csv(fpath)
library(tidyverse)
fpath = file.choose()
MeanSalaries_uoft = read_csv(fpath)
MeanSalaries_uoft$Average = str_remove_all(MeanSalaries_uoft$Average, "\\D")
MeanSalaries_uoft$Average = as.numeric(MeanSalaries_uoft$Average)
(degreesOrdered = MeanSalaries_uoft %>% arrange(desc(`Degree/Major Subject`)))
#MeanSalaries_uoft
(Doctrate = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Doc")))
(Masters = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Master")))
(Bachelor = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Bachelor")))
# (Certificate = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Certificate")))
# head(MeanSalaries_uoft) %>%
#   ggplot(aes(x=`Degree/Major Subject`, y=Average))+
#   geom_bar(stat = "identity")
legend_ord = levels(with(Doctrate, reorder(Doctrate$`Degree/Major Subject`, -Average)))
Doctrate %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
y=Average,
fill = `Degree/Major Subject`))+
geom_bar(stat = "identity")+
scale_fill_discrete(breaks=legend_ord, name="Degree Subject")+
theme(axis.title.x = element_blank(),
axis.text.x = element_blank())+
ggtitle("Average Salary for Uoft Alumni by Doctrate Degree")+
ylab("Average Salary")+
geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
legend_ord = levels(with(Masters, reorder(Masters$`Degree/Major Subject`, -Average)))
Masters %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
y=Average,
fill = `Degree/Major Subject`))+
geom_bar(stat = "identity")+
scale_fill_discrete(breaks=legend_ord, name="Degree Subject")+
theme(axis.title.x = element_blank(),
axis.text.x = element_blank())+
ggtitle("Average Salary for Uoft Alumni by Masters Degree")+
ylab("Average Salary")+
geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
legend_ord = levels(with(Bachelor, reorder(Bachelor$`Degree/Major Subject`, -Average)))
Bachelor %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
y=Average,
fill = `Degree/Major Subject`))+
geom_bar(stat = "identity")+
scale_fill_discrete(breaks=legend_ord, name="Degree Subject")+
theme(axis.title.x = element_blank(),
axis.text.x = element_blank())+
ggtitle("Average Salary for Uoft Alumni by Bachelor Degree")+
ylab("Average Salary")+
geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
# legend_ord = levels(with(Certificate, reorder(Certificate$`Degree/Major Subject`, -Average)))
#
# Certificate %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
#                        y=Average,
#                        fill = `Degree/Major Subject`))+
#   geom_bar(stat = "identity")+
#   scale_fill_discrete(breaks=legend_ord, name="Certificate Subject")+
#   theme(axis.title.x = element_blank(),
#         axis.text.x = element_blank())+
#   ggtitle("Average Salary for Uoft Alumni by Certificate")+
#   ylab("Average Salary")+
#   geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
#MeanSalaries_uoft
(Doctrate = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Doc")))
library(tidyverse)
library(tidyverse)
library(tidyverse)
fpath = file.choose()
legend_ord = levels(with(Bachelor, reorder(Bachelor$`Degree/Major Subject`, -Average)))
Bachelor %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
y=Average,
fill = `Degree/Major Subject`))+
geom_bar(stat = "identity")+
scale_fill_discrete(breaks=legend_ord, name="Degree Subject")+
theme(axis.title.x = element_blank(),
axis.text.x = element_blank())+
ggtitle("Average Salary for Uoft Alumni by Bachelor Degree")+
ylab("Average Salary")+
geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
library(tidyverse)
library(tidyverse)
fpath = file.choose()
fpath = file.choose()
MeanSalaries_uoft = read_csv(fpath)
fpath = file.choose()
fpath = file.choose()
MeanSalaries_uoft = read_csv(fpath)
MeanSalaries_uoft$Average = str_remove_all(MeanSalaries_uoft$Average, "\\D")
MeanSalaries_uoft$Average = as.numeric(MeanSalaries_uoft$Average)
(degreesOrdered = MeanSalaries_uoft %>% arrange(desc(`Degree/Major Subject`)))
#MeanSalaries_uoft
(Doctrate = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Doc")))
(Masters = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Master")))
(Bachelor = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Bachelor")))
# (Certificate = degreesOrdered %>% filter(str_detect(`Degree/Major Subject`, "Certificate")))
# head(MeanSalaries_uoft) %>%
#   ggplot(aes(x=`Degree/Major Subject`, y=Average))+
#   geom_bar(stat = "identity")
legend_ord = levels(with(Doctrate, reorder(Doctrate$`Degree/Major Subject`, -Average)))
Doctrate %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
y=Average,
fill = `Degree/Major Subject`))+
geom_bar(stat = "identity")+
scale_fill_discrete(breaks=legend_ord, name="Degree Subject")+
theme(axis.title.x = element_blank(),
axis.text.x = element_blank())+
ggtitle("Average Salary for Uoft Alumni by Doctrate Degree")+
ylab("Average Salary")+
geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
legend_ord = levels(with(Masters, reorder(Masters$`Degree/Major Subject`, -Average)))
Masters %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
y=Average,
fill = `Degree/Major Subject`))+
geom_bar(stat = "identity")+
scale_fill_discrete(breaks=legend_ord, name="Degree Subject")+
theme(axis.title.x = element_blank(),
axis.text.x = element_blank())+
ggtitle("Average Salary for Uoft Alumni by Masters Degree")+
ylab("Average Salary")+
geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
legend_ord = levels(with(Bachelor, reorder(Bachelor$`Degree/Major Subject`, -Average)))
Bachelor %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
y=Average,
fill = `Degree/Major Subject`))+
geom_bar(stat = "identity")+
scale_fill_discrete(breaks=legend_ord, name="Degree Subject")+
theme(axis.title.x = element_blank(),
axis.text.x = element_blank())+
ggtitle("Average Salary for Uoft Alumni by Bachelor Degree")+
ylab("Average Salary")+
geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
# legend_ord = levels(with(Certificate, reorder(Certificate$`Degree/Major Subject`, -Average)))
#
# Certificate %>% ggplot(aes(x=reorder(`Degree/Major Subject`, -Average),
#                        y=Average,
#                        fill = `Degree/Major Subject`))+
#   geom_bar(stat = "identity")+
#   scale_fill_discrete(breaks=legend_ord, name="Certificate Subject")+
#   theme(axis.title.x = element_blank(),
#         axis.text.x = element_blank())+
#   ggtitle("Average Salary for Uoft Alumni by Certificate")+
#   ylab("Average Salary")+
#   geom_text(aes(label=Average), size=2.5, position = position_stack(vjust = 0.9))
URL = "https://www.payscale.com/research/CA/School=University_of_Toronto/Salary/by_Degree#by_Job"
# read_html(URL) %>%
#   html_nodes(xpath = "//*[@class = 'median-alignment']") %>%
#   html_text()
PayScale1 = read_html(URL) %>%
html_table(fill = TRUE)
library(tidyverse)
library(rvest)
library(tidyverse)
library(rvest)
URL = "https://www.payscale.com/research/CA/School=University_of_Toronto/Salary/by_Degree#by_Job"
# read_html(URL) %>%
#   html_nodes(xpath = "//*[@class = 'median-alignment']") %>%
#   html_text()
PayScale1 = read_html(URL) %>%
html_table(fill = TRUE)
View(PayScale1)
UoftMedianSalary_byDegree = PayScale1[[1]]
UoftMedianSalary_byDegree
write_csv(UoftMedianSalary_byDegree, "UoftMedianSalaryPerDegree.csv")
